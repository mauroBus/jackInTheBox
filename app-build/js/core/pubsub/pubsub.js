define([],function(){var e=function(){this.topics={}};return e.prototype.trigger=function(e){var t,n,r,i=[],s,o=Array.prototype.slice.call(arguments,1);for(t in this.topics[e])n=this.topics[e][t].action,r=this.topics[e][t].context,s=n.apply(r,o),s!==undefined&&i.push(s);return i},e.prototype.on=function(e,t,n){this.topics[e]=this.topics[e]||[],this.topics[e].push({action:t,context:n||this})},e.prototype.off=function(e,t){var n,r,i=this.topics[e];for(n in i){r=i[n].action;if(t===r){i=i.splice(n,1);return}}},e.prototype.augment=function(e,t,n,r){var i=this;e[r||"trigger"]=function(){return this.topics=i.topics,i.trigger.apply(this,arguments)},e[t||"on"]=function(){this.topics=i.topics,i.on.apply(this,arguments)},e[n||"off"]=function(){this.topics=i.topics,i.off.apply(this,arguments)}},e});